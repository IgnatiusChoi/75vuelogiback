<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.seoulit.erp.logistic.production.dao.WorkPlaceDAO">



    <resultMap id="WorkSiteListResult" type="WorkSiteTO">
        <result property="productionProcessCode" column="PRODUCTION_PROCESS_CODE"  />
        <result property="workSiteCode" column="WORK_SITE_CODE"  />
        <result property="workSiteName" column="WORK_SITE_NAME"  />

    </resultMap>

    <select id="selectWorkSiteList" resultMap="WorkSiteListResult">
        SELECT *
        FROM WORK_SITE
    </select>



    <insert id="insertWorkPlaceList" parameterType="WorkSiteLogTO">
        INSERT INTO WORK_SITE_LOG(
            WORK_ORDER_NO, ITEM_CODE, ITEM_NAME, REAESON, WORK_SITE_NAME, WORK_DATE,PRODUCTION_PROCESS_CODE,
            PRODUCTION_PROCESS_NAME
        )
        VALUES (
                   #{workOrderNo:VARCHAR},
                   #{itemCode:VARCHAR},
                   #{itemName:NVARCHAR},
                   #{progress:NVARCHAR},
                   #{workSiteName:NVARCHAR},
                   #{workDate:VARCHAR},
                   #{productionProcessCode:NVARCHAR},
                   #{productionProcessName:NVARCHAR}
               )
    </insert>


    <delete id="deleteWorkPlaceList" parameterType="WorkSiteLogTO">
        DELETE FROM WORK_SITE_LOG
        WHERE
            WORK_ORDER_NO = #{workOrderNo}
          AND
            ITEM_CODE = #{itemCode}
          AND
            ITEM_NAME = #{itemName}
    </delete>



</mapper>

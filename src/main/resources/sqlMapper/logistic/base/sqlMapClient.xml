<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.co.seoulit.erp.logistic.base.dao.ClientDAO">

    <resultMap id="ClientResult" type="ClientTO">
        <result property="customerCode" column="CUSTOMER_CODE"  />
        <result property="workplaceCode" column="WORKPLACE_CODE"  />
        <result property="customerName" column="CUSTOMER_NAME"  />
        <result property="customerType" column="CUSTOMER_TYPE"  />
        <result property="customerCeo" column="CUSTOMER_CEO"  />
        <result property="businessLicenseNumber" column="BUSINESS_LICENSE_NUMBER"  />
        <result property="socialSecurityNumber" column="SOCIAL_SECURITY_NUMBER"  />
        <result property="customerBasicAddress" column="CUSTOMER_BASIC_ADDRESS"  />
        <result property="customerBusinessConditions" column="CUSTOMER_BUSINESS_CONDITIONS"  />
        <result property="customerZipCode" column="CUSTOMER_ZIP_CODE"  />
        <result property="customerDetailAddress" column="CUSTOMER_DETAIL_ADDRESS"  />
        <result property="customerNote" column="CUSTOMER_NOTE"  />
        <result property="customerBusinessItems" column="CUSTOMER_BUSINESS_ITEMS"  />
        <result property="customerTelNumber" column="CUSTOMER_TEL_NUMBER"  />
        <result property="customerFaxNumber" column="CUSTOMER_FAX_NUMBER"  />
    </resultMap>
    <resultMap id="FinanceResult" type="FinancialTO">
        <result property="accountAssociatesCode" column="ACCOUNT_ASSOCIATES_CODE"  />
        <result property="workplaceCode" column="WORKPLACE_CODE"  />
        <result property="accountAssociatesName" column="ACCOUNT_ASSOCIATES_NAME"  />
        <result property="accountAssociatesType" column="ACCOUNT_ASSOCIATES_TYPE"  />
        <result property="accountNumber" column="ACCOUNT_NUMBER"  />
        <result property="accountOpenPlace" column="ACCOUNT_OPEN_PLACE"  />
        <result property="cardNumber" column="CARD_NUMBER"  />
        <result property="cardType" column="CARD_TYPE"  />
        <result property="cardMemberName" column="CARD_MEMBER_NAME"  />
        <result property="cardOpenPlace" column="CARD_OPEN_PLACE"  />
        <result property="businessLicenseNumber" column="BUSINESS_LICENSE_NUMBER"  />
        <result property="financialInstituteCode" column="FINANCIAL_INSTITUTE_CODE"  />
        <result property="financialInstituteName" column="FINANCIAL_INSTITUTE_NAME"  />
        <result property="divisionCodeNo" column="DIVISION_CODE_NO"  />
    </resultMap>


    <select id="searchClientList" parameterType="ClientTO" resultMap="ClientResult">
        SELECT * FROM CUSTOMER
    </select>
    <select id="searchClientDetailList" parameterType="ClientTO" resultMap="ClientResult">
        SELECT * FROM CUSTOMER WHERE CUSTOMER_CODE = #{customerCode:VARCHAR}
    </select>
    <select id="searchFinanceList" parameterType="FinancialTO" resultMap="FinanceResult">
        select * from FINANCIAL_ACCOUNT_ASSOCIATES
    </select>
    <select id="searchFinanceDetailList" parameterType="FinancialTO" resultMap="FinanceResult">
        SELECT * FROM FINANCIAL_ACCOUNT_ASSOCIATES WHERE ACCOUNT_ASSOCIATES_CODE = #{accountAssociatesCode:VARCHAR}
    </select>

    <insert id="insertClient" parameterType="ClientTO" >
        Insert into CUSTOMER
        ( customer_Code, workplace_Code, customer_Name, customer_Type,
          customer_Ceo, business_License_Number, social_Security_Number, customer_Business_Conditions,
          customer_Business_Items, customer_Zip_Code, customer_Basic_Address, customer_Detail_Address,
          customer_Tel_Number, customer_Fax_Number, customer_Note)
        values ( #{customerCode:VARCHAR},#{workplaceCode:VARCHAR},#{customerName:VARCHAR},#{customerType:VARCHAR},
                 #{customerCeo:VARCHAR},#{businessLicenseNumber:VARCHAR},#{socialSecurityNumber:VARCHAR},#{customerBusinessConditions:VARCHAR},
                 #{customerBusinessItems:VARCHAR},#{customerZipCode:VARCHAR},#{customerBasicAddress:VARCHAR},#{customerDetailAddress:VARCHAR},
                 #{customerTelNumber:VARCHAR},#{customerFaxNumber:VARCHAR},#{customerNote:VARCHAR} )
    </insert>

    <delete id="deleteClient" parameterType="ClientTO">
        DELETE FROM CUSTOMER WHERE
            CUSTOMER_CODE = #{customerCode}
    </delete>

    <update id="updateClient" parameterType="ClientTO">
        UPDATE CUSTOMER SET
            customer_Code = #{customerCode:VARCHAR}
                           , workplace_Code = #{workplaceCode:VARCHAR}
                           , customer_Name = #{customerName:VARCHAR}
                           , customer_Type = #{customerType:VARCHAR}
                           , customer_Ceo = #{customerCeo:VARCHAR}
                           , business_License_Number = #{businessLicenseNumber:VARCHAR}
                           , social_Security_Number = #{socialSecurityNumber:VARCHAR}
                           , customer_Business_Conditions = #{customerBusinessConditions:VARCHAR}
                           , customer_Business_Items = #{customerBusinessItems:VARCHAR}
                           , customer_Zip_Code = #{customerZipCode:VARCHAR}
                           , customer_Basic_Address = #{customerBasicAddress:VARCHAR}
                           , customer_Detail_Address = #{customerDetailAddress:VARCHAR}
                           , customer_Tel_Number = #{customerTelNumber:VARCHAR}
                           , customer_Fax_Number = #{customerFaxNumber:VARCHAR}
                           , customer_Note = #{customerNote:VARCHAR}
        WHERE customer_Code = #{customerCode}
    </update>

    <insert id="insertFinance" parameterType="FinancialTO" >
        Insert into FINANCIAL_ACCOUNT_ASSOCIATES
        ( ACCOUNT_ASSOCIATES_CODE, WORKPLACE_CODE, ACCOUNT_ASSOCIATES_NAME, ACCOUNT_ASSOCIATES_TYPE,
          ACCOUNT_NUMBER, ACCOUNT_OPEN_PLACE, CARD_NUMBER, CARD_TYPE,
          CARD_MEMBER_NAME, CARD_OPEN_PLACE, BUSINESS_LICENSE_NUMBER, FINANCIAL_INSTITUTE_CODE,
          FINANCIAL_INSTITUTE_NAME, DIVISION_CODE_NO)
        values ( #{accountAssociatesCode:VARCHAR},#{workplaceCode:VARCHAR},#{accountAssociatesName:VARCHAR},#{accountAssociatesType:VARCHAR},
                 #{accountNumber:VARCHAR},#{accountOpenPlace:VARCHAR},#{cardNumber:VARCHAR},#{cardType:VARCHAR},
                 #{cardMemberName:VARCHAR},#{cardOpenPlace:VARCHAR},#{businessLicenseNumber:VARCHAR},#{financialInstituteCode:VARCHAR},
                 #{financialInstituteName:VARCHAR},#{divisionCodeNo:VARCHAR} )
    </insert>

    <delete id="deleteFinance" parameterType="FinancialTO">
        DELETE FROM FINANCIAL_ACCOUNT_ASSOCIATES WHERE
            ACCOUNT_ASSOCIATES_CODE = #{accountAssociatesCode}
    </delete>

    <update id="updateFinance" parameterType="FinancialTO">
        UPDATE FINANCIAL_ACCOUNT_ASSOCIATES SET
            ACCOUNT_ASSOCIATES_CODE = #{accountAssociatesCode:VARCHAR}
                          , WORKPLACE_CODE = #{workplaceCode:VARCHAR}
                          , ACCOUNT_ASSOCIATES_NAME = #{accountAssociatesName:VARCHAR}
                          , ACCOUNT_ASSOCIATES_TYPE = #{accountAssociatesType:VARCHAR}
                          , ACCOUNT_NUMBER = #{accountNumber:VARCHAR}
                          , ACCOUNT_OPEN_PLACE = #{accountOpenPlace:VARCHAR}
                          , CARD_NUMBER = #{cardNumber:VARCHAR}
                          , CARD_TYPE = #{cardType:VARCHAR}
                          , CARD_MEMBER_NAME = #{cardMemberName:VARCHAR}
                          , CARD_OPEN_PLACE = #{cardOpenPlace:VARCHAR}
                          , BUSINESS_LICENSE_NUMBER = #{businessLicenseNumber:VARCHAR}
                          , FINANCIAL_INSTITUTE_CODE = #{financialInstituteCode:VARCHAR}
                          , FINANCIAL_INSTITUTE_NAME = #{financialInstituteName:VARCHAR}
                          , DIVISION_CODE_NO = #{divisionCodeNo:VARCHAR}
        WHERE ACCOUNT_ASSOCIATES_CODE = #{accountAssociatesCode}
    </update>

</mapper>
